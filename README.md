## Благотворительный фонд для пожертвований

### Описание 
Асинхронное API приложение предоставляет возможность создания проектов и пожертвований для них. 
У пользователя есть возможность внести пожертвования в открытый проект. 
Реализованы CRUD-операции для модели проектов (Charity Project) и для их пожертвований (Donation), 
а также для регистрации и авторизации пользователей. 

Добавлена возможность вывода отчёта, о том какие проекты быстрее всего закрываются,
в Google таблицы с использованием Google API

### Проекты

В Фонде может быть открыто несколько целевых проектов. У каждого проекта есть название, 
описание и сумма, которую планируется собрать. После того, как нужная сумма собрана — проект закрывается.
Все пожертвования идут в проект, открытый раньше других; когда этот проект набирает 
необходимую сумму и закрывается — пожертвования начинают поступать в следующий проект.

### Пожертвования
Каждый пользователь может сделать пожертвование и сопроводить его комментарием. 
Пожертвования не целевые: они вносятся в фонд, а не в конкретный проект. 
Каждое полученное пожертвование автоматически добавляется в первый открытый проект, который 
ещё не набрал нужную сумму.

Если пожертвование больше нужной суммы или же в Фонде нет открытых проектов — 
оставшиеся деньги ждут открытия следующего проекта. При создании нового проекта 
все неинвестированные пожертвования автоматически вкладываются в новый проект.

### Пользователи
Целевые проекты создаются администраторами сайта.
Любой пользователь может видеть список всех проектов, включая требуемые и уже внесенные суммы. 
Это касается всех проектов — и открытых, и закрытых.
Зарегистрированные пользователи могут отправлять пожертвования и просматривать список своих пожертвований.

### Используемые технологии:

* FastAPI, SQLAlchemy, Alembic, Uvicorn, FastAPI Users, Pydantic, Aiogoogle, Google-api

### Как запустить проект:

Клонировать репозиторий и перейти в него в командной строке:
```
git clone git@github.com:DonBenn/charity_foundation.git
```

```
cd charity_foundation
```

Cоздать и активировать виртуальное окружение:

```
python3 -m venv venv
```

* Если у вас Linux/macOS

    ```
    source venv/bin/activate
    ```

* Если у вас windows

    ```
    source venv/scripts/activate
    ```

Установить зависимости из файла requirements.txt:

```
python3 -m pip install --upgrade pip
```

```
pip install -r requirements.txt
```

Создайте файл .evn:
```
touch .evn
```

В файле `.evn` Создайте переменные указанные в файле `env.example`


### Команды для создания и инициализации бд:

* Создание базы данных
 
В корневой директории проекта выполните команду:
```
alembic init --template async alembic
```

* Создание миграций
```
alembic revision --autogenerate -m "First migration"
```

* Применение миграций
```
alembic upgrade head
```

### Команда для запуска:

```
uvicorn app.main:app --reload

```

* Документация **Swagger**  <http://127.0.0.1:8000/docs>


* Документация **ReDoc**  <http://127.0.0.1:8000/redoc>



### Доступные эндпоинты


#### Charity Project

- **GET** /charity_project/  Get All Charity Projects

- **POST** /charity_project/ Create New Charity Project

- **DELETE** /charity_project/{project_id} Remove Charity Project

- **PATCH** /charity_project/{project_id}  Partially Update Charity Project

#### Donation

- **GET** /donation/ Get Donations

- **POST** /donation/ Create New Donation

- **GET** /donation/my  Get My Donations

#### Google 

- **POST** /google/ Get Report



### Автор

Bessonov Denis (https://github.com/DonBenn)